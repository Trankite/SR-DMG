<UserControl
    x:Class="StarRailDamage.Source.UI.Xaml.View.NumberTextBox"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:StarRailDamage.Source.UI.Xaml.View"
    xmlns:Control="clr-namespace:StarRailDamage.Source.UI.Control">
    <UserControl.Template>
        <ControlTemplate TargetType="{x:Type UserControl}">
            <Grid>
                <Grid.Resources>
                    <Style TargetType="{x:Type Control:ScopedTextBlock}">
                        <Setter Property="Foreground" Value="{Binding Foreground,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}}}"/>
                        <Setter Property="FontSize" Value="{Binding FontSize,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}}}"/>
                        <Setter Property="FontWeight" Value="{Binding FontWeight,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}}}"/>
                    </Style>
                </Grid.Resources>
                
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Control:ScopedTextBlock Grid.Column="0" MaxWidth="50" Text="{Binding TitleTextBinding.Text,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}}}" TipText="{Binding TitleTextBinding.Text,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}}}" TipOnlyTrim="True" TextTrimming="CharacterEllipsis"/>
                <Control:ScopedTextBox Grid.Column="2" CornerRadius="10" Text="{Binding Text,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}},Mode=TwoWay}" Background="{TemplateBinding Background}" FocusBrush="{Binding FocusBrush,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}}}" KeyDown="TextBoxKeyDown"/>
                <Control:ScopedTextBlock Grid.Column="4" Text="{Binding Value,RelativeSource={RelativeSource AncestorType={x:Type local:NumberTextBox}},StringFormat={}{0:0.#####}}"/>
            </Grid>
        </ControlTemplate>
    </UserControl.Template>
</UserControl>