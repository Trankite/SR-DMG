<TabControl
    x:Class="StarRailDamage.Source.UI.Control.ScopedTabControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="clr-namespace:StarRailDamage.Source.UI.Control">
    <TabControl.Resources>
        <Style TargetType="{x:Type local:ScopedTabItem}">
            <Setter Property="Foreground" Value="{Binding Foreground,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}"/>
            <Setter Property="Background" Value="{Binding Background,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}"/>
            <Setter Property="FocusBrush" Value="{Binding FocusBrush,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}"/>
            <Setter Property="Padding" Value="{Binding Padding,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}"/>
        </Style>
    </TabControl.Resources>

    <TabControl.Template>
        <ControlTemplate TargetType="{x:Type TabControl}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="5"/>
                </Grid.RowDefinitions>

                <UniformGrid Grid.Row="0" Rows="1" IsItemsHost="True"/>
                <ContentPresenter Grid.Row="1" ContentSource="SelectedContent"/>
            </Grid>
        </ControlTemplate>
    </TabControl.Template>

    <TabControl.ItemTemplate>
        <DataTemplate>
            <TextBlock Text="{Binding Header}" Foreground="{Binding Foreground,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}" FontSize="{Binding FontSize,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}" FontWeight="{Binding FontWeight,RelativeSource={RelativeSource AncestorType={x:Type local:ScopedTabControl}}}"/>
        </DataTemplate>
    </TabControl.ItemTemplate>

    <TabControl.ContentTemplate>
        <DataTemplate>
            <Frame Content="{Binding Content}" NavigationUIVisibility="Hidden"/>
        </DataTemplate>
    </TabControl.ContentTemplate>
</TabControl>